{"uid":"3aec382d66fee370","name":"Итоговая стоимость нескольких товаров с учетом комиссии должна быть корректной","fullName":"tests.test_cart_page.TestCartPage#test_total_price_with_tax_for_several_products_should_be_correct","historyId":"3bea3d863d69c62b21faaf7769245cf4","time":{"start":1767787930831,"stop":1767787930831,"duration":0},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'text'","statusTrace":"browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a2a1c97cadb3ced4114cc53856ba027c\")>\n\n    @pytest.fixture()\n    def pre_add_several_random_products_to_cart(browser):\n        page = ProductPage(browser)\n>       page.add_multiple_prod_to_cart()\n\nconftest.py:111: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/product_page.py:96: in add_multiple_prod_to_cart\n    self.header_page.check_prods_quantity_in_header(i)\npages/header_page.py:70: in check_prods_quantity_in_header\n    act = int(self.counter_on_cart.get_text_of_element())\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <elements.base_element.BaseElement object at 0x7f2f51675890>\nelement = None\n\n    def get_text_of_element(self, element=None):\n        element = element if element else self.get_element()\n    \n>       return element.text.strip()\n               ^^^^^^^^^^^^\nE       AttributeError: 'NoneType' object has no attribute 'text'\n\nelements/base_element.py:70: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1767787843490,"stop":1767787843492,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1767787930831,"stop":1767787931160,"duration":329},"status":"passed","steps":[{"name":"Запуск браузера: chrome.","time":{"start":1767787930831,"stop":1767787931142,"duration":311},"status":"passed","steps":[{"name":"Браузер запущен в фоновом режиме","time":{"start":1767787930831,"stop":1767787930831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup","time":{"start":1767787931160,"stop":1767787931164,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pre_add_several_random_products_to_cart","time":{"start":1767787931164,"stop":1767787955077,"duration":23913},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'text'\n","statusTrace":"  File \"/usr/local/lib/python3.11/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/usr/local/lib/python3.11/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/_pytest/fixtures.py\", line 1195, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/_pytest/fixtures.py\", line 929, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/workspace/conftest.py\", line 111, in pre_add_several_random_products_to_cart\n    page.add_multiple_prod_to_cart()\n  File \"/usr/workspace/pages/product_page.py\", line 96, in add_multiple_prod_to_cart\n    self.header_page.check_prods_quantity_in_header(i)\n  File \"/usr/workspace/pages/header_page.py\", line 70, in check_prods_quantity_in_header\n    act = int(self.counter_on_cart.get_text_of_element())\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/workspace/elements/base_element.py\", line 70, in get_text_of_element\n    return element.text.strip()\n           ^^^^^^^^^^^^\n","steps":[{"name":"Добавить несколько (3) товаров в корзину","time":{"start":1767787931164,"stop":1767787955077,"duration":23913},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'text'\n","statusTrace":"  File \"/usr/workspace/pages/product_page.py\", line 96, in add_multiple_prod_to_cart\n    self.header_page.check_prods_quantity_in_header(i)\n  File \"/usr/workspace/pages/header_page.py\", line 70, in check_prods_quantity_in_header\n    act = int(self.counter_on_cart.get_text_of_element())\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/workspace/elements/base_element.py\", line 70, in get_text_of_element\n    return element.text.strip()\n           ^^^^^^^^^^^^\n","steps":[{"name":"Открыть страницу: http://testshop.qa-practice.com/","time":{"start":1767787931164,"stop":1767787934926,"duration":3762},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Страница http://testshop.qa-practice.com/ открыта","time":{"start":1767787934926,"stop":1767787934933,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Выбрать товар: Chair floor protection","time":{"start":1767787935040,"stop":1767787937410,"duration":2370},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Добавить товар в корзину","time":{"start":1767787937410,"stop":1767787939884,"duration":2474},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить количество товаров в счетчике хэдера","time":{"start":1767787939884,"stop":1767787955077,"duration":15193},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'text'\n","statusTrace":"  File \"/usr/workspace/pages/header_page.py\", line 70, in check_prods_quantity_in_header\n    act = int(self.counter_on_cart.get_text_of_element())\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/workspace/elements/base_element.py\", line 70, in get_text_of_element\n    return element.text.strip()\n           ^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"browser::0","time":{"start":1767787955087,"stop":1767787955156,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"critical"},{"name":"suite","value":"Корзина"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestCartPage"},{"name":"host","value":"9c4e3683cae2"},{"name":"thread","value":"19-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"3aec382d66fee370.json","parameterValues":[]}