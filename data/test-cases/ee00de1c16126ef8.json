{"uid":"ee00de1c16126ef8","name":"Итоговая стоимость одной единицы товара без комиссии должна быть корректной","fullName":"tests.test_cart_page.TestCartPage#test_subtotal_price_for_one_product_should_be_correct","historyId":"8e670f7be667734d9e77c7e65001e615","time":{"start":1767537922396,"stop":1767537922396,"duration":0},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'text'","statusTrace":"browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"fcacf6cfefaa931db8ff4885b3f422b9\")>\n\n    @pytest.fixture()\n    def pre_add_random_product_to_cart(browser):\n        page = MainPage(browser)\n        page.open()\n        page.is_opened()\n        page.select_random_product()\n    \n        page = ProductPage(browser)\n        page.add_prod_to_cart_and_continue_shopping()\n    \n        page = HeaderPage(browser)\n>       page.check_prods_quantity_in_header(exp=1)\n\nconftest.py:105: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/header_page.py:70: in check_prods_quantity_in_header\n    act = int(self.counter_on_cart.get_text_of_element())\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <elements.base_element.BaseElement object at 0x7ff0fb906190>\nelement = None\n\n    def get_text_of_element(self, element=None):\n        element = element if element else self.get_element()\n    \n>       return element.text.strip()\n               ^^^^^^^^^^^^\nE       AttributeError: 'NoneType' object has no attribute 'text'\n\nelements/base_element.py:70: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1767537889019,"stop":1767537889021,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1767537922397,"stop":1767537922817,"duration":420},"status":"passed","steps":[{"name":"Запуск браузера: chrome.","time":{"start":1767537922397,"stop":1767537922785,"duration":388},"status":"passed","steps":[{"name":"Браузер запущен в фоновом режиме","time":{"start":1767537922397,"stop":1767537922397,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup","time":{"start":1767537922817,"stop":1767537922823,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pre_add_random_product_to_cart","time":{"start":1767537922823,"stop":1767537944472,"duration":21649},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'text'\n","statusTrace":"  File \"/usr/local/lib/python3.11/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/usr/local/lib/python3.11/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/_pytest/fixtures.py\", line 1195, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/_pytest/fixtures.py\", line 929, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/workspace/conftest.py\", line 105, in pre_add_random_product_to_cart\n    page.check_prods_quantity_in_header(exp=1)\n  File \"/usr/workspace/pages/header_page.py\", line 70, in check_prods_quantity_in_header\n    act = int(self.counter_on_cart.get_text_of_element())\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/workspace/elements/base_element.py\", line 70, in get_text_of_element\n    return element.text.strip()\n           ^^^^^^^^^^^^\n","steps":[{"name":"Открыть страницу: http://testshop.qa-practice.com/","time":{"start":1767537922828,"stop":1767537925777,"duration":2949},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Страница http://testshop.qa-practice.com/ открыта","time":{"start":1767537925777,"stop":1767537925790,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Выбрать товар: Corner Desk Right Sit","time":{"start":1767537925893,"stop":1767537926868,"duration":975},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Добавить товар в корзину","time":{"start":1767537926869,"stop":1767537929211,"duration":2342},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить количество товаров в счетчике хэдера","time":{"start":1767537929211,"stop":1767537944471,"duration":15260},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'text'\n","statusTrace":"  File \"/usr/workspace/pages/header_page.py\", line 70, in check_prods_quantity_in_header\n    act = int(self.counter_on_cart.get_text_of_element())\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/workspace/elements/base_element.py\", line 70, in get_text_of_element\n    return element.text.strip()\n           ^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"browser::0","time":{"start":1767537944480,"stop":1767537944561,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"Корзина"},{"name":"severity","value":"critical"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestCartPage"},{"name":"host","value":"7747cedf3fc3"},{"name":"thread","value":"19-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"ee00de1c16126ef8.json","parameterValues":[]}